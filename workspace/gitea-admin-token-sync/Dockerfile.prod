FROM alpine:latest

# Install required tools
RUN apk add --no-cache curl kubectl

# Copy the script
COPY revised-admin-token.sh /usr/local/bin/revised-admin-token.sh

# Make executable
RUN chmod +x /usr/local/bin/revised-admin-token.sh

# Use non-root user for security
RUN adduser -D appuser
USER appuser

# Set entrypoint
ENTRYPOINT ["/usr/local/bin/revised-admin-token.sh"]
