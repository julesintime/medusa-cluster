all:
  hosts:
    pve200:
      ansible_host: 192.168.8.26
      ansible_user: root
      # SSH key will be managed through Infisical - use your default SSH key for initial connection
    pve700:
      ansible_host: 192.168.8.27
      ansible_user: root
      # SSH key will be managed through Infisical - use your default SSH key for initial connection

  children:
    proxmox_hosts:
      hosts:
        pve200:
        pve700:
        
    k3s_cluster:
      children:
        k3s_control:
          hosts:
            k3s-control-1:
              ansible_host: 192.168.8.21
              k3s_role: control-plane
              k3s_init: true
            k3s-control-2:
              ansible_host: 192.168.8.22
              k3s_role: control-plane
        k3s_workers:
          hosts:
            k3s-worker-1:
              ansible_host: 192.168.8.11
              k3s_role: worker
            k3s-worker-2:
              ansible_host: 192.168.8.12
              k3s_role: worker
            k3s-worker-3:
              ansible_host: 192.168.8.13
              k3s_role: worker
      vars:
        ansible_user: ubuntu
        ansible_ssh_common_args: '-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'