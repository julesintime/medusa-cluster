apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: git-xuperson-org

resources:
  # Deploy gitea first (all gitea components)
  - gitea
  # Then deploy runner (depends on gitea being ready)
  - gitea-runner
  # Deploy CI/CD services integrated with gitea (no registry - using Gitea's built-in registry)
  - buildkit
  # Deploy hello-labinfra automation (repository initialization and source deployment)
  - hello

labels:
  - includeSelectors: true
    pairs:
      app.kubernetes.io/name: gitea
      app.kubernetes.io/managed-by: flux
